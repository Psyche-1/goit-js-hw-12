import{S as $,i,a as F}from"./assets/vendor-DEenWwFD.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(e){if(e.ep)return;e.ep=!0;const a=t(e);fetch(e.href,a)}})();const T=document.querySelector(".gallery");function M(n){const s=[];for(const t of n){const r=document.createElement("li");r.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=t.largeImageURL;const a=document.createElement("img");a.classList.add("gallery-image"),a.setAttribute("src",t.webformatURL),a.setAttribute("alt",t.tags);const o=document.createElement("div");o.classList.add("gallery-descr-container");const E=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),q=document.createElement("div"),p=document.createElement("p"),g=document.createElement("p"),h=document.createElement("p"),y=document.createElement("p"),f=document.createElement("p"),L=document.createElement("p"),v=document.createElement("p"),b=document.createElement("p");p.classList.add("gallery-descr"),g.classList.add("gallery-descr"),h.classList.add("gallery-descr"),y.classList.add("gallery-descr"),f.classList.add("gallery-descr"),L.classList.add("gallery-descr"),v.classList.add("gallery-descr"),b.classList.add("gallery-descr"),p.textContent="Likes",f.textContent=`${t.likes}`,g.textContent="Views",L.textContent=`${t.views}`,h.textContent="Comments",v.textContent=`${t.comments}`,y.textContent="Downloads",b.textContent=`${t.downloads}`,e.append(a),E.append(p,f),S.append(g,L),x.append(h,v),q.append(y,b),o.append(E,S,x,q),e.append(o),r.append(e),s.push(r)}T.append(...s),new $(".gallery a",{captionDelay:250,captionsData:"alt"})}const P=document.querySelector("#search-field"),c=document.querySelector(".loading"),u=document.querySelector(".gallery"),w=document.querySelector(".load-more");let m="",d=[],l=1,C=15;async function H(n){if(n.preventDefault(),l=1,c.classList.add("visually-hidden"),m=P.value.trim(),P.value="",!m)return;const t=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:C,page:l})}`;c.classList.remove("visually-hidden"),u.innerHTML="",k(t).then(r=>{if(r.statusText)throw new Error(r.status);return r}).then(r=>{if(d=r.hits,!d.length){i.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),u.innerHTML="";return}M(d),c.classList.add("visually-hidden"),w.classList.remove("visually-hidden")}).catch(r=>{i.show({message:r.message+" error",backgroundColor:"red"}),u.innerHTML=""})}const k=async n=>{try{return(await F(n)).data}catch(s){i.show({message:s.message+" error",backgroundColor:"red"})}};async function O(){c.classList.remove("visually-hidden"),w.classList.remove("visually-hidden"),l++;const s=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:C,page:l})}`;k(s).then(t=>{if(t.statusText)throw new Error(t.status);return t}).then(t=>{const r=Math.floor(t.totalHits/C);if(l===r-1){i.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#0099FF"}),w.classList.add("visually-hidden"),c.classList.add("visually-hidden"),l=1;return}if(d=t.hits,!d.length){i.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),c.classList.add("visually-hidden");return}M(d),c.classList.add("visually-hidden");const e=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:e*2+24,behavior:"smooth"})}).catch(t=>{i.show({message:t.message+" error",backgroundColor:"red"}),u.innerHTML=""})}const A=document.querySelector(".form"),R=document.querySelector(".load-more");A.addEventListener("submit",H,event);R.addEventListener("click",O);
//# sourceMappingURL=index.js.map
