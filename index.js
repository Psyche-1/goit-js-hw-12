import{S as $,i as u,a as H}from"./assets/vendor-BDaiwwc1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=t(e);fetch(e.href,a)}})();const T=document.querySelector(".gallery");function k(l){const r=[];for(const t of l){const s=document.createElement("li");s.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=t.largeImageURL;const a=document.createElement("img");a.classList.add("gallery-image"),a.setAttribute("src",t.webformatURL),a.setAttribute("alt",t.tags);const i=document.createElement("div");i.classList.add("gallery-descr-container");const S=document.createElement("div"),x=document.createElement("div"),q=document.createElement("div"),M=document.createElement("div"),y=document.createElement("p"),f=document.createElement("p"),L=document.createElement("p"),v=document.createElement("p"),b=document.createElement("p"),w=document.createElement("p"),C=document.createElement("p"),E=document.createElement("p");y.classList.add("gallery-descr"),f.classList.add("gallery-descr"),L.classList.add("gallery-descr"),v.classList.add("gallery-descr"),b.classList.add("gallery-descr"),w.classList.add("gallery-descr"),C.classList.add("gallery-descr"),E.classList.add("gallery-descr"),y.textContent="Likes",b.textContent=`${t.likes}`,f.textContent="Views",w.textContent=`${t.views}`,L.textContent="Comments",C.textContent=`${t.comments}`,v.textContent="Downloads",E.textContent=`${t.downloads}`,e.append(a),S.append(y,b),x.append(f,w),q.append(L,C),M.append(v,E),i.append(S,x,q,M),e.append(i),s.append(e),r.push(s)}T.append(...r),new $(".gallery a",{captionDelay:250,captionsData:"alt"})}const P=document.querySelector("#search-field"),o=document.querySelector(".loading"),h=document.querySelector(".gallery"),d=document.querySelector(".load-more");let p="",m=[],n=1,g=100,c;async function O(l){if(l.preventDefault(),n=1,o.classList.add("visually-hidden"),p=P.value.trim(),P.value="",!p)return;const t=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:p,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:g,page:n})}`;o.classList.remove("visually-hidden"),h.innerHTML="",F(t).then(s=>{if(s.statusText)throw new Error(s.status);return s}).then(s=>{if(c=Math.ceil(s.totalHits/g),console.log(n,c),n>=c&&(u.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#0099FF"}),o.classList.add("visually-hidden"),d.classList.add("visually-hidden"),n=1),m=s.hits,!m.length){u.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),h.innerHTML="",o.classList.add("visually-hidden"),d.classList.add("visually-hidden");return}k(m),o.classList.add("visually-hidden"),n<c&&d.classList.remove("visually-hidden")}).catch(s=>{u.show({message:s.message+" error",backgroundColor:"red"}),h.innerHTML="",o.classList.add("visually-hidden"),d.classList.add("visually-hidden")})}const F=async l=>{try{return(await H(l)).data}catch(r){u.show({message:r.message+" error",backgroundColor:"red"})}};async function A(){n++,console.log(n,c),o.classList.remove("visually-hidden"),n<c&&d.classList.remove("visually-hidden");const r=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:p,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:g,page:n})}`;F(r).then(t=>{if(t.statusText)throw new Error(t.status);return t}).then(t=>{if(c=Math.ceil(t.totalHits/g),n>=c&&(u.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#0099FF"}),o.classList.add("visually-hidden"),d.classList.add("visually-hidden"),n=1),m=t.hits,!m.length){u.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),o.classList.add("visually-hidden"),d.classList.add("visually-hidden");return}k(m),o.classList.add("visually-hidden");const s=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:s*2+24,behavior:"smooth"})}).catch(t=>{u.show({message:t.message+" error",backgroundColor:"red"}),h.innerHTML=""})}const R=document.querySelector(".form"),_=document.querySelector(".load-more");R.addEventListener("submit",O,event);_.addEventListener("click",A);
//# sourceMappingURL=index.js.map
